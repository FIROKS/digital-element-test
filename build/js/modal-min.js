"use strict";!function(){var e=bodyScrollLock.disableBodyScroll,o=bodyScrollLock.enableBodyScroll,t=function(){var e=L.value,o=y.value,t=w.value,s=new XMLHttpRequest;s.addEventListener("load",function(){200===s.status?a(u):a(v)}),s.addEventListener("error",function(){a(v)}),s.open("POST","http://rest.learncode.academy/api/afrianska/form",!0),s.setRequestHeader("Content-Type","application/json"),s.send(JSON.stringify({name:e,email:o,message:t}))},a=function(e){m.classList.remove("modal--show"),e.classList.add("modal--show"),o(i),setTimeout(function(){e.classList.add("modal--reveal"),m.classList.remove("modal--reveal")},100),setTimeout(function(){e.classList.remove("modal--reveal")},1500),setTimeout(function(){i.classList.remove("modal--show"),e.classList.remove("modal--show")},2500)},s=function(e){c.contains(e.target)||(e.preventDefault(),r())},n=function(e){27===e.keyCode&&(e.preventDefault(),r())},l=function(){i.classList.add("modal--show"),m.classList.add("modal--show"),setTimeout(function(){m.classList.add("modal--reveal")},100),e(i),window.addEventListener("keydown",n),i.addEventListener("click",s)},r=function(){m.classList.remove("modal--reveal"),setTimeout(function(){i.classList.remove("modal--show"),m.classList.remove("modal--show")},600),o(i),window.removeEventListener("keydown",n),i.removeEventListener("click",s)},d=document.querySelector("#open-modal"),i=document.querySelector(".modal"),c=document.querySelector(".modal__wrapper"),m=document.querySelector(".modal__form"),u=document.querySelector(".modal__success"),v=document.querySelector(".modal__error"),f=document.querySelector("#form");if(f){var L=f.querySelector("#name"),y=f.querySelector("#email"),w=f.querySelector("#message");f.addEventListener("submit",function(e){e.preventDefault(),L.validity.valid&&y.validity.valid&&w.validity.valid&&t()})}d&&i&&c&&d.addEventListener("click",function(e){e.preventDefault(),l()})}();